<!DOCTYPE html>
 
<html lang="es">
 
<head>
	<title>TEST AJAX</title>
	<meta charset="utf-8" />
	<!-- Latest version Jquery -->
	<script src="jquery-2.1.3.js"></script>
</head>
	
<body>
    <input id="url" type="url" placeholder="URL">
    <select id="type">
        <option value="OPTIONS">OPTIONS</option>
        <option value="POST">POST</option>
        <option value="GET">GET</option>
    </select>
    <label>
        <span>contentType</span>
        <select id="contentType">
            <option value="application/json; charset=utf-8">application/json; charset=utf-8</option>
            <option value="">NINGUNO</option>
        </select>
    </label>
    <button>Intentar de nuevo</button>
    
    <br>
    <hr>
    <br>

    <div id="resultado"></div>
    
    <script>
        jQuery(document).ready(function($){	
            AJAX();
            
            $("button").click(function(){AJAX();});
            
            function AJAX(){
                $("#resultado").html('<img style="-webkit-user-select: none" src="http://www.gifmania.com/Gif-Animados-Web/Imagenes-Rotulos-Webs/Rotulos-Cargando/Circulo-Cargando-62160.gif">');
                
                var parametros = {
                    database_type : "roger se la come",
                    user : "parametros.user",
                    pass : "parametros.pass",
                    server : "parametros.server",
                    protocol : "parametros.protocol",
                    port : "parametros.port",
                    alias : "parametros.alias"
                };

                $.ajax({
                    url: $("#url").val(),
                    type: $("#type").val(),
                    crossDomain: true,
                    data: JSON.stringify(parametros),
                    dataType: "json",
                    contentType: $("#contentType").val(),
                    processData: true,
                    success:function(result){
                        $("#resultado").html(JSON.stringify(result));
                    },
                    error:function(xhr,status,error){
                        $("#resultado").html("Status: " + status);
                    },
                });
            }
        })
    </script>
</body>

</html>
